{% comment %}
  Floating Bottom Menu (Tailwind + Stimulus)

  • Fixed to bottom with safe-area padding
  • Buttons: Menu / Shop / Account / Search / Cart
  • Panels slide open above the bar
  • Cart count auto-syncs via /cart.js
{% endcomment %}

<div
  data-controller="floatmenu"
  style="transition-name: floating-menu"
  class="z-40 fixed inset-x-0 bottom-4 mx-auto max-w-md md:left-1/2 md:-translate-x-1/2 rounded-2xl bg-white shadow-xl transition-all duration-300 overflow-hidden"
>

  <!-- COLLAPSIBLE CONTENT -->
<div
  data-floatmenu-target="panel"
  class="h-0 opacity-0 transition-all duration-300 overflow-hidden border-t border-gray-200"
  style="will-change: height"
>
  <div data-floatmenu-target="content" class="p-4 text-sm text-gray-700"></div>
</div>
  <!-- NAV BUTTONS -->
  <div
    data-floatmenu-target="buttons"
    class="flex justify-around items-center px-3 py-2 border-t border-gray-200"
  >
    <button
      data-action="click->floatmenu#toggle"
      data-key="menu"
      class="py-2 px-3 text-sm font-medium"
    >
      Menu
    </button>
    <button
      data-action="click->floatmenu#toggle"
      data-key="shop"
      class="py-2 px-3 text-sm font-medium"
    >
      Shop
    </button>
    <button
      data-action="click->floatmenu#toggle"
      data-key="search"
      class="py-2 px-3 text-sm font-medium"
    >
      Search
    </button>
    <button
      data-action="click->floatmenu#toggle"
      data-key="account"
      class="py-2 px-3 text-sm font-medium"
    >
      Account
    </button>
  </div>

</div>

{% schema %}
{
  "name": "Floating bottom menu",
  "settings": [
    {
      "type": "link_list",
      "id": "menu_main",
      "label": "Main menu (for “Menu” button)"
    },
    {
      "type": "link_list",
      "id": "menu_shop",
      "label": "Shop menu (for “Shop” button)"
    },
    {
      "type": "checkbox",
      "id": "close_on_scroll",
      "label": "Close panel on scroll",
      "default": true
    }
  ],
  "presets": [
    { "name": "Floating bottom menu" }
  ]
}
{% endschema %}
